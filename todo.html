<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title> Todo-List </title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="file://C:/Users/Synigence - Hafeez/Desktop/todolist/test.json"></script>
    <link rel="stylesheet" type="text/css" href="./css/todo.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <!-- Bootstrap core CSS -->
    <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@7.28.2/dist/sweetalert2.all.min.js"></script>
    <!-- Optional: include a polyfill for ES6 Promises for IE11 and Android browser -->
    <script href="https://cdn.jsdelivr.net/npm/promise-polyfill@7/dist/polyfill.min.js"></script>
</head>

<body>
    <div class="flex-container">
        <div class="list">
            <div class="item"> <span><h3> Todo-List</h3></span> <button type="button" class="btn btn-warning" id="refresh" onclick="getData()">Refresh</button><button type="button" class="btn btn-primary" id="addtask">Add Task</button> </div>
            <input type="search" name="task" onkeyup="searchfunc()" placeholder="Search" id="myInput" />

            <ul id="demo"></ul>

            <div id="taskbutton">
                <div class="btn btn-danger" id="pend"> Pending </div>
                <div class="btn btn-success" id='comp'> Completed </div>
            </div>
        </div>

    </div>
    <script>
        $("#addtask").click(getFormValues);

        function getFormValues() {
            const {
                value: formValues
            } = swal({
                title: 'Add Task',
                html: '<input id="swal-input1" class="swal2-input">' +
                    '<input id="swal-input2" class="swal2-input">',
                focusConfirm: false,
                preConfirm: () => {
                    // 127.0.0.1:3000/addTask

                    let d1 = document.getElementById('swal-input1').value;
                    let d2 = document.getElementById('swal-input2').value;
                    if (d1 != "" || d2 != "") {


                        let d3 = {
                            "title": d1,
                            "desc": d2,
                            "status": false
                        }


                        axios.post("http://127.0.0.1:3000/addTask",
                                d3
                            )
                            .then(function(response) {
                                console.log(response);
                                // d.push(response.data);
                                // addT(d);
                                getData()

                            })
                            .catch(function(error) {
                                console.log(error);
                            });

                    } else {
                        alert("Please Enter Input in both the fields");
                        // getFormValues.preventDefault();
                        // swal('Please Enter Input in both the fields');
                    }



                }
            })


        }
    </script>
    <script src="./js/todo.js" type="text/javascript"></script>
</body>

</html>